"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){var i=function(e){var i=[];return e.find("option:selected").each(function(){i.push(t(this).data("item"))}),i},n=function(e,i){return this.$element=t(e),this.options=i,this.available=i.data.available?i.data.available:[],this.selected=i.data.selected?i.data.selected:[],this.init(),this};n.DEFAULTS={data:{available:[],selected:[]},buttons:[{action:"add"},{action:"addAll"},{action:"remove",label:"Remove",className:"btn btn-sm btn-block btn-info"},{action:"removeAll"}],buttonClass:"btn btn-sm btn-block btn-primary",label:{content:["Available:","Selected:"]},select:{size:15}},n.prototype.init=function(){this.initHtml(),this.initData(),this.initActions()},n.prototype.initHtml=function(){var e=this.initButtons(),i=this.initSelect(),n=this.initSelect();!1!==this.options.label&&(i.prepend(t("<p>").text(this.options.label.content[0])),n.prepend(t("<p>").text(this.options.label.content[1]))),this.$element.addClass("picklist"),this.$element.append(i.addClass("available")),this.$element.append(e),this.$element.append(n.addClass("selected"))},n.prototype.initButtons=function(){var e=t("<div>").addClass("button-group"),i=this;return t.each(this.options.buttons,function(n,a){var o=t("<button>").attr("type","button");o.addClass(void 0===a.className?i.options.buttonClass:a.className),o.addClass(a.action),o.append(void 0===a.label?a.action:a.label),o.appendTo(e)}),e},n.prototype.initSelect=function(){var e=t("<div>").addClass("select");return t("<select>").prop("multiple",!0).attr("size",this.options.select.size).appendTo(e),e},n.prototype.initData=function(){var e=this.$element.find(".select.selected select"),i=this.$element.find(".select.available select");e.empty(),i.empty(),t.each(this.available,function(e,n){t("<option>").val(n.id).text(n.label).data("item",n).appendTo(i)}),t.each(this.selected,function(i,n){t("<option>").val(n.id).text(n.label).data("item",n).appendTo(e)})},n.prototype.initActions=function(){var e=this.$element,n=this;this.$element.find(".button-group .add").on("click",function(){var a=i(e.find(".select.available select"));t.merge(n.selected,a),n.available=n.available.filter(function(t){for(var e=0,i=a.length;e<i;e++)if(a[e].id==t.id)return!1;return!0}),n.reload(),n.trigger("add",a)}),this.$element.find(".button-group .remove").on("click",function(){var a=i(e.find(".select.selected select"));t.merge(n.available,a),n.selected=n.selected.filter(function(t){for(var e=0,i=a.length;e<i;e++)if(a[e].id==t.id)return!1;return!0}),n.reload(),n.trigger("remove",a)}),this.$element.find(".button-group .addAll").on("click",function(){var e=n.available;t.merge(n.selected,e),n.available=[],n.reload(),n.trigger("add",e)}),this.$element.find(".button-group .removeAll").on("click",function(){var e=n.selected;t.merge(n.available,e),n.selected=[],n.reload(),n.trigger("remove",e)})},n.prototype.reload=function(){this.initData()},n.prototype.trigger=function(e){var i=Array.prototype.slice.call(arguments,1);e="picklist."+e,this.$element.trigger(t.Event(e),i)},n.prototype.getSelected=function(){var e=[];return this.$element.find(".select.selected select option").each(function(){e.push(t(this).data("item"))}),e};var a=["getSelected"];t.fn.pickList=function(e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var l=t(this),s=l.data("picklist");if(s&&"string"==typeof e){if(t.inArray(e,a)<0)throw new Error("Unknown method: "+e);i=s[e].apply(s,o)}if("object"===(void 0===e?"undefined":_typeof(e))){var r=t.extend({},n.DEFAULTS,e);l.data("picklist",new n(this,r))}}),void 0===i?this:i}}(jQuery,window);